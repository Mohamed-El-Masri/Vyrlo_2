<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile - Vyrlo</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="/css/main/style.css">
   <!-- Add listings -->
   <link rel="stylesheet" href="/css/components/listing-wizard.css">
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <!-- Page CSS -->
    <link rel="stylesheet" href="/css/pages/profile.css">
</head>
<body>
    <!-- Header Container -->
    <div id="headerContainer"></div>

    <main>
        <!-- Enhanced Hero Section -->
        <div class="breadcrumb-section vr-profile-hero">
            <div class="layer"></div>
            <div class="content-data container">
                <h2 class="vr-animate-slide-down">Hello, <span id="profileName">....</span></h2>
                <p class="vr-animate-fade-in vr-delay-1">Manage your personal information and account settings</p>
                <!-- Status Badge -->
                <div class="vr-profile-status vr-animate-fade-in vr-delay-2">
                    <span class="vr-badge vr-badge--success">
                        <i class="fa-solid fa-circle-check"></i> Verified Account
                    </span>
                </div>
            </div>
        </div>

        <div class="container-fluid">
            <div class="row">
                <!-- Enhanced Sidebar -->
                <section class="col-md-4 col-lg-3 p-3">
                    <div class="block vr-profile vr-profile-card">
                        <div class="profile-info vr-profile__info">
                            <div class="vr-avatar-container">
                                <img src="/images/defaults/default-avatar.png" alt="profile image" class="profile-image vr-avatar" id="profileAvatar">
                                <div class="vr-avatar-edit">
                                    <label for="avatarUpload">
                                        <i class="fa-solid fa-camera"></i>
                                    </label>
                                    <input type="file" id="avatarUpload" class="d-none">
                                </div>
                            </div>
                            <div class="vr-profile__details">
                                <h4 class="name" id="profileDisplayName">User Name</h4>
                                <p class="location" id="profileLocation"><i class="fa-solid fa-location-dot"></i> Location</p>
                                <p class="vr-profile-joindate"><i class="fa-regular fa-calendar"></i> Member since <span id="joinDate">January 2023</span></p>
                            </div>
                            <div class="vr-profile-stats">
                                <div class="vr-stat">
                                    <span class="vr-stat-number" id="listingsCount">0</span>
                                    <span class="vr-stat-label">Listings</span>
                                </div>
                                <div class="vr-stat">
                                    <span class="vr-stat-number" id="favoritesCount">0</span>
                                    <span class="vr-stat-label">Saved</span>
                                </div>
                            </div>
                        </div>
                        <ul class="vr-profile-menu">
                            <li class="profile-item" data-section="profile">
                                <a href="#profile">
                                    <i class="fa-regular fa-user"></i>
                                    My Profile
                                </a>
                            </li>
                            <li class="profile-item" data-section="addListing">
                                <a href="#addListing">
                                    <i class="fa-solid fa-plus"></i>
                                    Add Listing
                                </a>
                            </li>
                            <li class="profile-item" data-section="listings">
                                <a href="#listings">
                                    <i class="fa-solid fa-list"></i>
                                    My Listings
                                </a>
                            </li>
                            <li class="profile-item" data-section="changePassword">
                                <a href="#changePassword">
                                    <i class="fa-solid fa-lock"></i>
                                    Change Password
                                </a>
                            </li>
                            <li class="profile-item log-out">
                                <a href="javascript:void(0)" id="logoutLink">
                                    <i class="fa-solid fa-power-off"></i>
                                    Log Out
                                </a>
                            </li>
                        </ul>
                    </div>
                </section>

                <!-- Enhanced Content Area -->
                <section class="col-md-8 col-lg-9 p-3">
                    <!-- Profile Section -->
                    <div id="profileContainer" class="vr-profile__section active">
                    <div class="dashboard block p-4 vr-profile__form vr-animate-scale-in">
                        <div class="vr-profile-header">
                            <h5><i class="fa-solid fa-user-gear"></i> My Account</h5>
                            <span class="vr-badge vr-badge--primary">Personal Info</span>
                        </div>
                        
                        <form id="editProfileForm" method="POST">
                            <div class="row p-2">
                                <!-- Personal Information Section -->
                                <div class="vr-form-section">
                                    <h6 class="vr-form-section-title"><i class="fa-solid fa-user-shield"></i> Personal Details</h6>
                                    
                                    <div class="input vr-form-group">
                                        <label for="title">Title</label>
                                        <input type="text" id="title" name="title" class="vr-input">
                                        <span class="error-message" id="titleError"></span>
                                    </div>
                                    
                                    <div class="input vr-form-group">
                                        <label for="phoneNumber">Phone</label>
                                        <div class="vr-input-icon">
                                            <i class="fa-solid fa-phone"></i>
                                            <input type="text" id="phoneNumber" name="phoneNumber" class="vr-input">
                                        </div>
                                        <span class="error-message" id="phoneError"></span>
                                    </div>
                                    
                                    <div class="input vr-form-group">
                                        <label for="bio">About Me</label>
                                        <textarea id="bio" name="about" class="vr-input" placeholder="Tell us about yourself..."></textarea>
                                        <span class="error-message" id="bioError"></span>
                                    </div>
                                </div>
                                
                                <!-- Address Section -->
                                <div class="vr-form-section">
                                    <h6 class="vr-form-section-title"><i class="fa-solid fa-map-location-dot"></i> Address Information</h6>
                                    
                                    <div class="input vr-form-group">
                                        <label for="Address">Address</label>
                                        <div class="vr-input-icon">
                                            <i class="fa-solid fa-location-dot"></i>
                                            <input type="text" id="Address" name="address" class="vr-input">
                                        </div>
                                        <span class="error-message" id="AddressError"></span>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="input vr-form-group">
                                                <label for="City">City</label>
                                                <input type="text" id="City" name="city" class="vr-input">
                                                <span class="error-message" id="CityError"></span>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="input vr-form-group">
                                                <label for="State">State</label>
                                                <input type="text" id="State" name="state" class="vr-input">
                                                <span class="error-message" id="StateError"></span>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="input vr-form-group">
                                                <label for="zipCode">Zip Code</label>
                                                <input type="text" id="zipCode" name="zipCode" class="vr-input">
                                                <span class="error-message" id="zipCodeError"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Social Media Section -->
                                <div class="vr-form-section">
                                    <h6 class="vr-form-section-title"><i class="fa-solid fa-share-nodes"></i> Social Media</h6>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="input vr-form-group">
                                                <label for="facebook"><i class="fa-brands fa-facebook" style="color: #1877F2;"></i> Facebook</label>
                                                <div class="vr-input-icon">
                                                    <i class="fa-brands fa-facebook"></i>
                                                    <input type="url" value="" id="facebook" name="facebook" class="vr-input" placeholder="https://facebook.com/username">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="input vr-form-group">
                                                <label for="instagram"><i class="fa-brands fa-instagram" style="color: #E1306C;"></i> Instagram</label>
                                                <div class="vr-input-icon">
                                                    <i class="fa-brands fa-instagram"></i>
                                                    <input type="url" value="" id="instagram" name="instagram" class="vr-input" placeholder="https://instagram.com/username">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="vr-form-actions">
                                <button type="button" class="vr-btn vr-btn--outline mr-2">Cancel</button>
                                <button type="submit" class="save-changes vr-btn vr-btn--primary">
                                    <i class="fa-solid fa-floppy-disk"></i> Save Changes
                                </button>
                            </div>
                        </form>
                    </div>
                    </div>

                    <!-- Listings Section -->
                    <div id="listingsContainer" class="vr-profile__section">
                        <!-- Listings will be loaded here -->
                    </div>

                    <!-- Add Listing Section -->
                    <div id="addListingContainer" class="vr-profile__section" style="display: none;">
                        <div class="lw-container">
                            <!-- Progress Bar -->
                            <div class="lw-progress">
                                <div class="lw-progress-steps">
                                    <div class="lw-step active">
                                        <div class="lw-step-icon">
                                            <i class="fa-solid fa-info-circle"></i>
                                        </div>
                                        <div class="lw-step-label">Basic Info</div>
                                        <div class="lw-step-desc">Business details</div>
                                    </div>
                                    <div class="lw-step">
                                        <div class="lw-step-icon">
                                            <i class="fa-solid fa-location-dot"></i>
                                        </div>
                                        <div class="lw-step-label">Location</div>
                                        <div class="lw-step-desc">Address & Map</div>
                                    </div>
                                    <div class="lw-step">
                                        <div class="lw-step-icon">
                                            <i class="fa-solid fa-list-check"></i>
                                        </div>
                                        <div class="lw-step-label">Features</div>
                                        <div class="lw-step-desc">Business features</div>
                                    </div>
                                    <div class="lw-step">
                                        <div class="lw-step-icon">
                                            <i class="fa-regular fa-clock"></i>
                                        </div>
                                        <div class="lw-step-label">Hours</div>
                                        <div class="lw-step-desc">Business hours</div>
                                    </div>
                                    <div class="lw-step">
                                        <div class="lw-step-icon">
                                            <i class="fa-solid fa-images"></i>
                                        </div>
                                        <div class="lw-step-label">Media</div>
                                        <div class="lw-step-desc">Photos & videos</div>
                                    </div>
                                </div>
                                <div class="lw-progress-line"></div>
                                <div class="lw-progress-bar">
                                    <div class="lw-progress-fill" style="width: 20%"></div>
                                </div>
                            </div>

                            <!-- Form Content -->
                            <div class="lw-content">
                                <!-- Step 1: Basic Info -->
                                <div class="lw-step-content active" data-step="1">
                                    <div class="lw-form-group">
                                        <label for="businessName">Business Name</label>
                                        <input type="text" id="businessName" class="lw-input" placeholder="Enter your business name">
                                        <div class="lw-input-hint">This will be displayed as your listing title</div>
                                    </div>

                                    <div class="lw-form-group">
                                        <label for="category">Business Category</label>
                                        <select id="category" class="lw-input">
                                            <option value="">Select a category</option>
                                        </select>
                                    </div>

                                    <div class="lw-form-group">
                                        <label for="description">Business Description</label>
                                        <textarea id="description" class="lw-input" rows="4" placeholder="Describe your business"></textarea>
                                        <div class="lw-char-counter">0/500</div>
                                    </div>

                                    <div class="lw-form-group">
                                        <label for="tags">Business Tags</label>
                                        <div class="lw-tags-input">
                                            <div class="lw-tags-container"></div>
                                            <input type="text" id="tags" class="lw-input" placeholder="Add tags (press Enter)">
                                        </div>
                                        <div class="lw-input-hint">Add relevant tags to help customers find your business</div>
                                    </div>
                                </div>

                                <!-- Step 2: Location -->
                                <div class="lw-step-content" data-step="2">
                                    <div class="lw-form-group">
                                        <label for="address">Business Address</label>
                                        <div class="lw-input-group">
                                            <i class="fa-solid fa-location-dot"></i>
                                            <input type="text" id="address" class="lw-input" placeholder="Enter your business address">
                                        </div>
                                    </div>

                                    <div class="lw-map-container">
                                        <div id="map" class="lw-map"></div>
                                        <div class="lw-map-search">
                                            <input type="text" class="lw-input" placeholder="Search location">
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="lw-form-group">
                                                <label for="latitude">Latitude</label>
                                                <input type="text" id="latitude" class="lw-input" readonly>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="lw-form-group">
                                                <label for="longitude">Longitude</label>
                                                <input type="text" id="longitude" class="lw-input" readonly>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Step 3: Features -->
                                <div class="lw-step-content" data-step="3">
                                    <div class="lw-features-grid" id="featuresGrid">
                                        <!-- Features will be loaded dynamically -->
                                    </div>
                                </div>

                                <!-- Step 4: Hours -->
                                <div class="lw-step-content" data-step="4">
                                    <div class="lw-hours-grid" id="hoursGrid">
                                        <!-- Business hours will be loaded dynamically -->
                                    </div>
                                </div>

                                <!-- Step 5: Media -->
                                <div class="lw-step-content" data-step="5">
                                    <div class="lw-media-upload" id="mainImageUpload">
                                        <div class="lw-media-placeholder">
                                            <i class="fa-solid fa-image"></i>
                                            <p>Drop your main image here or click to browse</p>
                                            <span>Recommended size: 1200x800px</span>
                                        </div>
                                        <input type="file" class="lw-file-input" accept="image/*">
                                    </div>

                                    <div class="lw-media-preview" id="mainImagePreview" style="display: none;">
                                        <img src="" alt="Main image preview">
                                        <button class="lw-gallery-remove">
                                            <i class="fa-solid fa-times"></i>
                                        </button>
                                    </div>

                                    <div class="lw-gallery-grid" id="galleryGrid">
                                        <!-- Gallery images will be loaded dynamically -->
                                    </div>
                                </div>
                            </div>

                            <!-- Form Navigation -->
                            <div class="lw-actions">
                                <button type="button" class="lw-btn lw-btn--secondary" id="prevStep">
                                    <i class="fa-solid fa-arrow-left"></i> Previous
                                </button>
                                <button type="button" class="lw-btn lw-btn--primary" id="nextStep">
                                    Next <i class="fa-solid fa-arrow-right"></i>
                                </button>
                            </div>

                            <!-- Loading State -->
                            <div class="lw-loading" style="display: none;">
                                <i class="fa-solid fa-spinner"></i>
                                <span>Loading...</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Footer Container -->
    <div id="footerContainer"></div>

    <!-- Toast Container -->
    <div class="vr-toast-container" id="toastContainer"></div>

    <!-- Core Services -->
    <script src="/js/services/api.service.js" type="module"></script>
    <script src="/js/services/toast.service.js" type="module"></script>
    <script src="/js/core/utils.js" type="module"></script>
    <script src="/js/core/componentLoader.js" type="module"></script>
    <script src="/js/services/auth.service.js" type="module"></script>
    <script src="/js/services/listing.service.js" type="module"></script>

    <!-- Components -->
    <script src="/js/components/profileNavigation.js" type="module"></script>
    <script src="/js/components/listingWizard.js" type="module"></script>

    <!-- Page Script -->
    <script src="/js/pages/profile.js" type="module"></script>
</body>
</html>